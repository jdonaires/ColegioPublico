use bd_colegio_primaria;

# PROCEDIMIENTO ALMACENADO PARA CURSOS
# PROCESO REGISTRO

DELIMITER $$
CREATE PROCEDURE registrar_estudiante
(
    IN _Cod_Persona          INTEGER,
	IN _N_Hermanos           INTEGER,
	IN _Lugar_Ocupa          INTEGER,
	IN _Religion             VARCHAR(50),
	IN _SAANEE               CHAR(2),
	IN _Frecuencia_Saanee    VARCHAR(15),
	IN _Cod_Discapacidad     INTEGER,
	IN _Cod_Estudiante       VARCHAR(14)
)
BEGIN 
	insert into estudiantes (cod_persona, n_hermanos, lugar_ocupa, religion, SAANEE, frecuencia_saanee, cod_discapacidad, cod_estudiante) 
    values (_Cod_Persona, _N_Hermanos, _Lugar_Ocupa, _Religion, _SAANEE, _Frecuencia_Saanee, _Cod_Discapacidad, _Cod_Estudiante);
END
$$


# PROCESO BUSCAR
DELIMITER $$
CREATE PROCEDURE buscar_estudiante
(
	IN _Cod_Estudiante		VARCHAR(14)
)
begin 
	select cod_persona, n_hermanos, lugar_ocupa, religion, SAANEE, frecuencia_saanee, cod_discapacidad, cod_estudiante from estudiantes
    where cod_estudiante = _Cod_Estudiante;
end
$$




DELIMITER $$
CREATE PROCEDURE registrar_persona
(
    IN _Cod_Persona          INTEGER,
	IN _Ape_Paterno          VARCHAR(80) ,
	IN _Ape_Materno          VARCHAR(80) ,
	IN _Nombres              VARCHAR(80) ,
	IN _Sexo                 CHAR(1) ,
	IN _Estado_civil         VARCHAR(15) ,
	IN _Fecha_Nac            DATE ,
	IN _Direccion            VARCHAR(80) ,
	IN _Telefono             INTEGER ,
	IN _Correo               VARCHAR(50) ,
	IN _Cod_distrito         INTEGER 
    )
BEGIN 
	insert into personas (cod_Persona, ape_Paterno, ape_Materno, Nombres, Sexo, Estado_civil, Fecha_Nac, Direccion, Telefono, Correo, Cod_distrito) 
    values (_Cod_Persona, _Ape_Paterno, _Ape_Materno, _Nombres, _Sexo, _Estado_civil, _Fecha_Nac, _Direccion,_Telefono,_Correo,_Cod_distrito);
END
$$


# PROCESO BUSCAR
DELIMITER $$
CREATE PROCEDURE buscar_persona
(
	IN _Cod_Persona		INTEGER
)
begin 
	select cod_Persona, ape_Paterno, ape_Materno, Nombres, Sexo, Estado_civil, Fecha_Nac, Direccion, Telefono, Correo, Cod_distrito from personas
    where cod_Persona = _Cod_Persona;
end
$$



DELIMITER $$
CREATE PROCEDURE registrar_discapacidad
(
    IN _Cod_discapacidad     INTEGER,
	IN _Descripcion          VARCHAR(20) 
    )
BEGIN 
	insert into DISCAPACIDADES (cod_discapacidad, descripcion) 
    values (_Cod_discapacidad, _Descripcion);
END
$$


# PROCESO BUSCAR
DELIMITER $$
CREATE PROCEDURE buscar_discapacidad
(
	IN _Cod_discapacidad INTEGER
)
begin 
	select cod_discapacidad, descripcion from DISCAPACIDADES
    where cod_discapacidad = _Cod_discapacidad;
end
$$